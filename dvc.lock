schema: '2.0'
stages:
  download_data:
    cmd: python scripts/download_data.py --output data/raw/evasionbench.parquet 
      --revision main
    deps:
    - path: scripts/download_data.py
      hash: md5
      md5: 8d42fffb3e99aebed954b817a54012a5
      size: 1338
    - path: src/data.py
      hash: md5
      md5: 8be23b75ef01beec8c2276a357095bb4
      size: 1658
    outs:
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
  validate_data:
    cmd: python scripts/validate_dataset.py --data data/raw/evasionbench.parquet
      --contract data/contracts/evasionbench_manifest.json
    deps:
    - path: data/contracts/evasionbench_manifest.json
      hash: md5
      md5: 7bffa46605bc4901634540135532e044
      size: 591
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
    - path: scripts/validate_dataset.py
      hash: md5
      md5: f705ecb33dbaea595fe7b5ab8e81107a
      size: 2303
    - path: src/data.py
      hash: md5
      md5: 8be23b75ef01beec8c2276a357095bb4
      size: 1658
  prepare_data:
    cmd: python scripts/prepare_data.py --input data/raw/evasionbench.parquet 
      --output data/processed/evasionbench_prepared.parquet
    deps:
    - path: data/contracts/evasionbench_manifest.json
      hash: md5
      md5: 7bffa46605bc4901634540135532e044
      size: 591
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
    - path: scripts/prepare_data.py
      hash: md5
      md5: 53aca501e3c3e5ae8271ece3679e3fc8
      size: 1672
    outs:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
  analyze_core_stats:
    cmd: python scripts/analyze_core_stats.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_core_stats.py
      hash: md5
      md5: cd5519757f8d48384e32607e90416210
      size: 1103
    - path: src/analysis/artifacts.py
      hash: md5
      md5: 5830451d77c34def7f4b335520c6a067
      size: 2437
    - path: src/analysis/core_stats.py
      hash: md5
      md5: 15d98b2907663ef13887406f5e8aaaff
      size: 7751
    outs:
    - path: artifacts/analysis/phase3/core_stats
      hash: md5
      md5: cb19c2139ddf064206306a77b78387e6.dir
      size: 83076
      nfiles: 11
  analyze_lexical:
    cmd: python scripts/analyze_lexical.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_lexical.py
      hash: md5
      md5: 640c10df53d504eb064f7c1c0dc0beee
      size: 1214
    - path: src/analysis/artifacts.py
      hash: md5
      md5: 5830451d77c34def7f4b335520c6a067
      size: 2437
    - path: src/analysis/lexical.py
      hash: md5
      md5: cf4b59c6770623f296b2c47d9c71a466
      size: 4910
    outs:
    - path: artifacts/analysis/phase3/lexical
      hash: md5
      md5: 924536c0772e1891a363e3001b66ab22.dir
      size: 170414
      nfiles: 15
  analyze_linguistic_quality:
    cmd: python scripts/analyze_linguistic_quality.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_linguistic_quality.py
      hash: md5
      md5: 52f386182fbe763ac08503e301a3b73f
      size: 1214
    - path: src/analysis/artifacts.py
      hash: md5
      md5: 5830451d77c34def7f4b335520c6a067
      size: 2437
    - path: src/analysis/linguistic_quality.py
      hash: md5
      md5: 63c7ff51a576a13b0f4a1ec7046c14ed
      size: 7428
    outs:
    - path: artifacts/analysis/phase3/linguistic_quality
      hash: md5
      md5: 9f579310aab8652056b0ed73472b36ed.dir
      size: 509380
      nfiles: 10
  analyze_phase3:
    cmd: python scripts/run_phase3_analyses.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3 --families all
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_core_stats.py
      hash: md5
      md5: cd5519757f8d48384e32607e90416210
      size: 1103
    - path: scripts/analyze_lexical.py
      hash: md5
      md5: 640c10df53d504eb064f7c1c0dc0beee
      size: 1214
    - path: scripts/analyze_linguistic_quality.py
      hash: md5
      md5: 52f386182fbe763ac08503e301a3b73f
      size: 1214
    - path: scripts/run_phase3_analyses.py
      hash: md5
      md5: 6995bc29be17e8a442f2b11ce776e27c
      size: 2229
    - path: src/analysis/artifacts.py
      hash: md5
      md5: 5830451d77c34def7f4b335520c6a067
      size: 2437
    - path: src/analysis/core_stats.py
      hash: md5
      md5: 15d98b2907663ef13887406f5e8aaaff
      size: 7751
    - path: src/analysis/lexical.py
      hash: md5
      md5: cf4b59c6770623f296b2c47d9c71a466
      size: 4910
    - path: src/analysis/linguistic_quality.py
      hash: md5
      md5: 63c7ff51a576a13b0f4a1ec7046c14ed
      size: 7428
    outs:
    - path: artifacts/analysis/phase3/artifact_index.json
      hash: md5
      md5: 99de353691b9eeba743af7f9b0ba9feb
      size: 2557
  analyze_phase4:
    cmd: python scripts/run_phase4_analyses.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase4 --families all
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_qa_semantic.py
      hash: md5
      md5: 5e138acd336be7c4e640dc539b7a658e
      size: 1039
    - path: scripts/analyze_question_behavior.py
      hash: md5
      md5: cca9ee0882c8a46a8e76770fa13bad7a
      size: 1142
    - path: scripts/analyze_topics.py
      hash: md5
      md5: 720f6dc10d6d727791c24a31dfb4d9d7
      size: 1177
    - path: scripts/run_phase4_analyses.py
      hash: md5
      md5: 0f384d18b321a654ab151e1d510808f6
      size: 2243
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/qa_semantic.py
      hash: md5
      md5: 2779161213aaa08acf893f1132256a24
      size: 5622
    - path: src/analysis/question_behavior.py
      hash: md5
      md5: bdbd05f9db855c661c02ddaeb7694bc6
      size: 7087
    - path: src/analysis/topic_modeling.py
      hash: md5
      md5: d37097b0d2c8729d7804ac4b011926bc
      size: 5948
    outs:
    - path: artifacts/analysis/phase4/artifact_index.json
      hash: md5
      md5: f8c97e4fb4612f52b1ee89c74dd382d3
      size: 2164
