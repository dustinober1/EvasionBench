schema: '2.0'
stages:
  download_data:
    cmd: python scripts/download_data.py --output data/raw/evasionbench.parquet 
      --revision main
    deps:
    - path: scripts/download_data.py
      hash: md5
      md5: 8d42fffb3e99aebed954b817a54012a5
      size: 1338
    - path: src/data.py
      hash: md5
      md5: 8be23b75ef01beec8c2276a357095bb4
      size: 1658
    outs:
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
  validate_data:
    cmd: python scripts/validate_dataset.py --data data/raw/evasionbench.parquet
      --contract data/contracts/evasionbench_manifest.json
    deps:
    - path: data/contracts/evasionbench_manifest.json
      hash: md5
      md5: 7bffa46605bc4901634540135532e044
      size: 591
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
    - path: scripts/validate_dataset.py
      hash: md5
      md5: f705ecb33dbaea595fe7b5ab8e81107a
      size: 2303
    - path: src/data.py
      hash: md5
      md5: 8be23b75ef01beec8c2276a357095bb4
      size: 1658
  prepare_data:
    cmd: python scripts/prepare_data.py --input data/raw/evasionbench.parquet 
      --output data/processed/evasionbench_prepared.parquet
    deps:
    - path: data/contracts/evasionbench_manifest.json
      hash: md5
      md5: 7bffa46605bc4901634540135532e044
      size: 591
    - path: data/raw/evasionbench.parquet
      hash: md5
      md5: 58b662e58da61b397223743bcfab02bd
      size: 12231890
    - path: scripts/prepare_data.py
      hash: md5
      md5: 53aca501e3c3e5ae8271ece3679e3fc8
      size: 1672
    outs:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
  analyze_core_stats:
    cmd: python scripts/analyze_core_stats.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_core_stats.py
      hash: md5
      md5: cd5519757f8d48384e32607e90416210
      size: 1103
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/core_stats.py
      hash: md5
      md5: 15d98b2907663ef13887406f5e8aaaff
      size: 7751
    outs:
    - path: artifacts/analysis/phase3/core_stats
      hash: md5
      md5: 36685cf9f700c3023686437d7c9e90c9.dir
      size: 90474
      nfiles: 11
  analyze_lexical:
    cmd: python scripts/analyze_lexical.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_lexical.py
      hash: md5
      md5: 640c10df53d504eb064f7c1c0dc0beee
      size: 1214
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/lexical.py
      hash: md5
      md5: cf4b59c6770623f296b2c47d9c71a466
      size: 4910
    outs:
    - path: artifacts/analysis/phase3/lexical
      hash: md5
      md5: efef2d3702fc2cc13b394206fefc927e.dir
      size: 186116
      nfiles: 15
  analyze_linguistic_quality:
    cmd: python scripts/analyze_linguistic_quality.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_linguistic_quality.py
      hash: md5
      md5: 52f386182fbe763ac08503e301a3b73f
      size: 1214
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/linguistic_quality.py
      hash: md5
      md5: 63c7ff51a576a13b0f4a1ec7046c14ed
      size: 7428
    outs:
    - path: artifacts/analysis/phase3/linguistic_quality
      hash: md5
      md5: 9f579310aab8652056b0ed73472b36ed.dir
      size: 509380
      nfiles: 10
  analyze_phase3:
    cmd: python scripts/run_phase3_analyses.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase3 --families all
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_core_stats.py
      hash: md5
      md5: cd5519757f8d48384e32607e90416210
      size: 1103
    - path: scripts/analyze_lexical.py
      hash: md5
      md5: 640c10df53d504eb064f7c1c0dc0beee
      size: 1214
    - path: scripts/analyze_linguistic_quality.py
      hash: md5
      md5: 52f386182fbe763ac08503e301a3b73f
      size: 1214
    - path: scripts/run_phase3_analyses.py
      hash: md5
      md5: 6995bc29be17e8a442f2b11ce776e27c
      size: 2229
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/core_stats.py
      hash: md5
      md5: 15d98b2907663ef13887406f5e8aaaff
      size: 7751
    - path: src/analysis/lexical.py
      hash: md5
      md5: cf4b59c6770623f296b2c47d9c71a466
      size: 4910
    - path: src/analysis/linguistic_quality.py
      hash: md5
      md5: 63c7ff51a576a13b0f4a1ec7046c14ed
      size: 7428
    outs:
    - path: artifacts/analysis/phase3/artifact_index.json
      hash: md5
      md5: 99de353691b9eeba743af7f9b0ba9feb
      size: 2557
  analyze_phase4:
    cmd: python scripts/run_phase4_analyses.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase4 --families all
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_qa_semantic.py
      hash: md5
      md5: 17500b744a971e66ba65ad39ce4d4fd8
      size: 1297
    - path: scripts/analyze_question_behavior.py
      hash: md5
      md5: 8b4cbbd815aae01f331772aa290a7f96
      size: 1283
    - path: scripts/analyze_topics.py
      hash: md5
      md5: 53c2d1004a876a7fbbd25a3442f551cb
      size: 1318
    - path: scripts/run_phase4_analyses.py
      hash: md5
      md5: 0f384d18b321a654ab151e1d510808f6
      size: 2243
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/qa_semantic.py
      hash: md5
      md5: 7af2355c7e1e22c97a07434239a1b3b9
      size: 5787
    - path: src/analysis/question_behavior.py
      hash: md5
      md5: 636e48ab551226859e33c9de164667b4
      size: 7546
    - path: src/analysis/topic_modeling.py
      hash: md5
      md5: 60685d914921684e1a8ab79fc432bbb6
      size: 6628
    outs:
    - path: artifacts/analysis/phase4/artifact_index.json
      hash: md5
      md5: f8c97e4fb4612f52b1ee89c74dd382d3
      size: 2164
  analyze_question_behavior:
    cmd: python scripts/analyze_question_behavior.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase4
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_question_behavior.py
      hash: md5
      md5: 8b4cbbd815aae01f331772aa290a7f96
      size: 1283
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/question_behavior.py
      hash: md5
      md5: 636e48ab551226859e33c9de164667b4
      size: 7546
    outs:
    - path: artifacts/analysis/phase4/question_behavior
      hash: md5
      md5: 3b14d2159fa6bc5ec61c27a8049c90fd.dir
      size: 53267
      nfiles: 6
  analyze_topics:
    cmd: python scripts/analyze_topics.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase4 --topics 8 --seed 42
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_topics.py
      hash: md5
      md5: 53c2d1004a876a7fbbd25a3442f551cb
      size: 1318
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/topic_modeling.py
      hash: md5
      md5: 60685d914921684e1a8ab79fc432bbb6
      size: 6628
    outs:
    - path: artifacts/analysis/phase4/topic_modeling
      hash: md5
      md5: abddac1b3feb3d7825ad8da8c962549a.dir
      size: 1048546
      nfiles: 7
  analyze_qa_semantic:
    cmd: python scripts/analyze_qa_semantic.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/analysis/phase4
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/analyze_qa_semantic.py
      hash: md5
      md5: 17500b744a971e66ba65ad39ce4d4fd8
      size: 1297
    - path: src/analysis/artifacts.py
      hash: md5
      md5: bae1cdca1c21c1f067151c89e7b44e27
      size: 5281
    - path: src/analysis/qa_semantic.py
      hash: md5
      md5: 7af2355c7e1e22c97a07434239a1b3b9
      size: 5787
    outs:
    - path: artifacts/analysis/phase4/semantic_similarity
      hash: md5
      md5: 8ebc331f4b73e85eb7e024402a69fcee.dir
      size: 12469960
      nfiles: 6
  phase5_logreg:
    cmd: python scripts/run_classical_baselines.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/models/phase5 --families logreg
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/run_classical_baselines.py
      hash: md5
      md5: 189eaea27948bcf88d0cef872e11b1d2
      size: 7828
    - path: scripts/run_experiment.py
      hash: md5
      md5: a8757877b3a6bc8780c4b7029562926f
      size: 5390
    - path: src/evaluation.py
      hash: md5
      md5: c4f486ccb5e16bd25744af885e838a83
      size: 4170
    - path: src/models.py
      hash: md5
      md5: b4f72decc2b3e23b17e18074e16d8645
      size: 5203
    outs:
    - path: artifacts/models/phase5/logreg
      hash: md5
      md5: f4e9bc7dfc12a7cbbaac2b70664fd7d6.dir
      size: 1651
      nfiles: 4
  phase5_tree:
    cmd: python scripts/run_classical_baselines.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/models/phase5 --families tree
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/run_classical_baselines.py
      hash: md5
      md5: 189eaea27948bcf88d0cef872e11b1d2
      size: 7828
    - path: scripts/train_tree_baseline.py
      hash: md5
      md5: eda51f123f1c322e6ca36aff148b8c44
      size: 1946
    - path: src/evaluation.py
      hash: md5
      md5: c4f486ccb5e16bd25744af885e838a83
      size: 4170
    - path: src/models.py
      hash: md5
      md5: b4f72decc2b3e23b17e18074e16d8645
      size: 5203
    outs:
    - path: artifacts/models/phase5/tree
      hash: md5
      md5: 4558c0b222bbe9a9527974467b3d34b1.dir
      size: 1654
      nfiles: 4
  phase5_boosting:
    cmd: python scripts/run_classical_baselines.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/models/phase5 --families boosting
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/run_classical_baselines.py
      hash: md5
      md5: 189eaea27948bcf88d0cef872e11b1d2
      size: 7828
    - path: scripts/train_tree_baseline.py
      hash: md5
      md5: eda51f123f1c322e6ca36aff148b8c44
      size: 1946
    - path: src/evaluation.py
      hash: md5
      md5: c4f486ccb5e16bd25744af885e838a83
      size: 4170
    - path: src/models.py
      hash: md5
      md5: b4f72decc2b3e23b17e18074e16d8645
      size: 5203
    outs:
    - path: artifacts/models/phase5/boosting
      hash: md5
      md5: 77d6dade155c029d09808f89e581da40.dir
      size: 1651
      nfiles: 4
  phase5_compare:
    cmd: python scripts/compare_classical_models.py --input-root 
      artifacts/models/phase5 --output-root 
      artifacts/models/phase5/model_comparison
    deps:
    - path: artifacts/models/phase5/boosting
      hash: md5
      md5: 77d6dade155c029d09808f89e581da40.dir
      size: 1651
      nfiles: 4
    - path: artifacts/models/phase5/logreg
      hash: md5
      md5: f4e9bc7dfc12a7cbbaac2b70664fd7d6.dir
      size: 1651
      nfiles: 4
    - path: artifacts/models/phase5/tree
      hash: md5
      md5: 4558c0b222bbe9a9527974467b3d34b1.dir
      size: 1654
      nfiles: 4
    - path: scripts/compare_classical_models.py
      hash: md5
      md5: 65965e76f22aa5f5ba26136ba030091c
      size: 4754
    - path: src/visualization.py
      hash: md5
      md5: 3b1984d69ee60c0cc866965a9711f928
      size: 1576
    outs:
    - path: artifacts/models/phase5/model_comparison
      hash: md5
      md5: 81594c12e94aada852499fb09d0ab514.dir
      size: 66012
      nfiles: 5
  phase5:
    cmd: python scripts/run_classical_baselines.py --input 
      data/processed/evasionbench_prepared.parquet --output-root 
      artifacts/models/phase5 --families all --compare
    deps:
    - path: data/processed/evasionbench_prepared.parquet
      hash: md5
      md5: 57b710613f26d8e8c1b9bb6097457116
      size: 12273749
    - path: scripts/compare_classical_models.py
      hash: md5
      md5: 65965e76f22aa5f5ba26136ba030091c
      size: 4754
    - path: scripts/run_classical_baselines.py
      hash: md5
      md5: 189eaea27948bcf88d0cef872e11b1d2
      size: 7828
    - path: src/evaluation.py
      hash: md5
      md5: c4f486ccb5e16bd25744af885e838a83
      size: 4170
    - path: src/models.py
      hash: md5
      md5: b4f72decc2b3e23b17e18074e16d8645
      size: 5203
    - path: src/visualization.py
      hash: md5
      md5: 3b1984d69ee60c0cc866965a9711f928
      size: 1576
    outs:
    - path: artifacts/models/phase5/run_summary.json
      hash: md5
      md5: 5fcc1139c59e1d60096c1ba808b8fb00
      size: 522
